function MaskedEditSetMessage(n,t,i){n.errormessage=t;n.text=i==""?t:i;n.innerHTML=n.text}function MaskedEditMessageShow(n,t){if(typeof n.display=="string"){if(n.display=="None")return;if(n.display=="Dynamic"){n.style.display=t?"none":"inline";return}}n.style.visibility=t?"hidden":"visible"}function MaskedEditSetCssClass(n,t){var i=$get(n.TargetValidator);Sys.UI.DomElement.removeCssClass(i,n.InvalidValueCssClass);Sys.UI.DomElement.removeCssClass(i,n.CssBlurNegative);Sys.UI.DomElement.removeCssClass(i,n.CssFocus);Sys.UI.DomElement.removeCssClass(i,n.CssFocusNegative);t!=""&&Sys.UI.DomElement.addCssClass(i,t)}function MaskedEditValidatorDateTime(value){var target,ret,mask,rx,matches,MaxVlDt,MaxVlTm,args;if(MaskedEditSetMessage(value,"",""),MaskedEditSetCssClass(value,""),MaskedEditMessageShow(value,!0),value.IsMaskedEdit=="false")return!0;if(target=$get(value.TargetValidator),value.ValidEmpty=="false"&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==value.InitialValue)return MaskedEditSetMessage(value,value.EmptyValueMessage,value.EmptyValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1;if(Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()=="")return!0;if(ret=!0,mask=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value(),value.ValidationExpression!=""&&(rx=new RegExp(value.ValidationExpression),matches=rx.exec(mask),ret=matches!=null&&mask==matches[0],!ret))return MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1;var PartDate=target.MaskedEditBehavior.AutoFormatDate(),PartTime=target.MaskedEditBehavior.AutoFormatTime(),MinVlDt="",MinVlTm="";return value.MinimumValue!=""&&(MinVlDt=value.MinimumValue.split(" ")[0],MinVlTm=value.MinimumValue.split(" ")[1]),MaxVlDt="",MaxVlTm="",value.MaximumValue!=""&&(MaxVlDt=value.MaximumValue.split(" ")[0],MaxVlTm=value.MaximumValue.split(" ")[1]),ret=MaskedEditValidatorPartDate(value,PartDate,MinVlDt,MaxVlDt),ret&&(ret=MaskedEditValidatorPartTime(value,PartTime,MinVlTm,MaxVlTm)),ret&&value.ClientValidationFunction!=""&&(args={Value:mask,IsValid:!0},eval(value.ClientValidationFunction+"(value, args);"),ret=args.IsValid,ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret||MaskedEditMessageShow(value,ret),ret}function MaskedEditValidatorPartTime(n,t,i,r){var s=!0,h=n.TimeSeparator,g=n.AmPmSymbol,b=g.split(";"),nt=g.replace(";","|"),tt="^(^([0][0-9]|[1][0-2])"+h+"([0-5][0-9])"+h+"([0-5][0-9])\\s("+nt+")$)|(^([0][0-9]|[1][0-2])"+h+"([0-5][0-9])\\s("+nt+")$)$",it="^(^([0-1][0-9]|[2][0-3])"+h+"([0-5][0-9])"+h+"([0-5][0-9])$)|(^([0-1][0-9]|[2][0-3])"+h+"([0-5][0-9])$)$",e=-1,v=-1,w=-1,y="",p=t.split(h),k=new RegExp(tt),c=k.exec(t),d=new RegExp(it),l=d.exec(t),u,o,a,f;return c&&c[0]==t?(y=t.substring(t.length-2).substring(0,1),e=parseInt(p[0],10),y.toUpperCase()==b[1].substring(0,1).toUpperCase()&&(e+=12,e==24&&(e=12)),v=parseInt(p[1],10),w=n.length>9?parseInt(p[2].substring(0,2),10):0):l&&l[0]==t&&(e=parseInt(p[0],10),v=parseInt(p[1],10),w=t.length>5?parseInt(p[2],10):0),(e==-1||v==-1||w==-1)&&(s=!1),s||(MaskedEditSetMessage(n,n.InvalidValueMessage,n.InvalidValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass)),s&&(r!=""||i!="")&&(i!=""&&(u=-1,o=-1,a=-1,f=i.split(h),c=k.exec(i),l=d.exec(i),c&&c[0]==i?(y=i.substring(i.length-2).substring(0,1),u=parseInt(f[0],10),y.toUpperCase()==b[1].substring(0,1).toUpperCase()&&(u+=12,u==24&&(u=0)),o=parseInt(f[1],10),a=i.length>9?parseInt(f[2].substring(0,2),10):0):l&&l[0]==i&&(u=parseInt(f[0],10),o=parseInt(f[1],10),a=i.length>5?parseInt(f[2],10):0),s=e>u||e==u&&v>o||e==u&&v==o&&w>=a,s||(MaskedEditSetMessage(n,n.MinimumValueMessage,n.MinimumValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass))),r!=""&&s&&(u=-1,o=-1,a=-1,f=r.split(h),c=k.exec(r),l=d.exec(r),c&&c[0]==r?(y=r.substring(r.length-2).substring(0,1),u=parseInt(f[0],10),y.toUpperCase()==b[1].substring(0,1).toUpperCase()&&(u+=12,u==24&&(u=0)),o=parseInt(f[1],10),a=r.length>9?parseInt(f[2].substring(0,2),10):0):l&&l[0]==r&&(u=parseInt(f[0],10),o=parseInt(f[1],10),a=r.length>5?parseInt(f[2],10):0),s=e<u||e==u&&v<o||e==u&&v==o&&w<=a,s||(MaskedEditSetMessage(n,n.MaximumValueMessage,n.MaximumValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass)))),s}function MaskedEditValidatorPartDate(n,t,i,r){var f=!0,u="MDY",y,v;switch(n.DateFormat){case"DayMonthYear":case"DMY":u="DMY";break;case"DayYearMonth":case"DYM":u="DYM";break;case"MonthDayYear":case"MDY":u="MDY";break;case"MonthYearDay":case"MYD":u="MYD";break;case"YearDayMonth":case"YDM":u="YDM";break;case"YearMonthDay":case"YMD":u="YMD"}y=n.DateSeparator;v=t.split(y);parseInt(v.length,10)!=3&&(MaskedEditSetMessage(n,n.InvalidValueMessage,n.InvalidValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass),f=!1);(u.indexOf("D")==-1||u.indexOf("M")==-1||u.indexOf("Y")==-1)&&(MaskedEditSetMessage(n,n.InvalidValueMessage,n.InvalidValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass),f=!1);var l=-1,s=-1,e=-1;if(f&&(l=parseInt(v[u.indexOf("D")],10),s=parseInt(v[u.indexOf("M")],10),e=parseInt(v[u.indexOf("Y")],10),f=l>0&&s>0&&e>0&&(l<=[,31,28,31,30,31,30,31,31,30,31,30,31][s]||l==29&&s==2&&e%4==0&&(e%100>0||e%400==0))),f||(MaskedEditSetMessage(n,n.InvalidValueMessage,n.InvalidValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass)),f&&(r!=""||i!="")){var h,a=-1,c=-1,o=-1;i!=""&&(h=i.split(y),a=parseInt(h[u.indexOf("D")],10),c=parseInt(h[u.indexOf("M")],10),o=parseInt(h[u.indexOf("Y")],10),f=a>0&&c>0&&o>0&&e>o||e==o&&s>c||e==o&&s==c&&l>=a,f||(MaskedEditSetMessage(n,n.MinimumValueMessage,n.MinimumValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass)));f&&r!=""&&(h=r.split(y),a=parseInt(h[u.indexOf("D")],10),c=parseInt(h[u.indexOf("M")],10),o=parseInt(h[u.indexOf("Y")],10),f=a>0&&c>0&&o>0&&e<o||e==o&&s<c||e==o&&s==c&&l<=a,f||(MaskedEditSetMessage(n,n.MaximumValueMessage,n.MaximumValueText),MaskedEditSetCssClass(n,n.InvalidValueCssClass)))}return f}function MaskedEditValidatorDate(value){var target,ret,mask,rx,matches,args;return(MaskedEditSetMessage(value,"",""),MaskedEditSetCssClass(value,""),MaskedEditMessageShow(value,!0),value.IsMaskedEdit=="false")?!0:(target=$get(value.TargetValidator),value.ValidEmpty=="false"&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==value.InitialValue)?(MaskedEditSetMessage(value,value.EmptyValueMessage,value.EmptyValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==""?!0:(ret=!0,mask=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value(),value.ValidationExpression!=""&&(rx=new RegExp(value.ValidationExpression),matches=rx.exec(mask),ret=matches!=null&&mask==matches[0],!ret))?(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):(ret=MaskedEditValidatorPartDate(value,mask,value.MinimumValue,value.MaximumValue),ret&&value.ClientValidationFunction!=""&&(args={Value:mask,IsValid:!0},eval(value.ClientValidationFunction+"(value, args);"),ret=args.IsValid,ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret||MaskedEditMessageShow(value,ret),ret)}function MaskedEditValidatorTime(value){var target,ret,mask,rx,matches,args;return(MaskedEditSetMessage(value,"",""),MaskedEditSetCssClass(value,""),MaskedEditMessageShow(value,!0),value.IsMaskedEdit=="false")?!0:(target=$get(value.TargetValidator),value.ValidEmpty=="false"&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==value.InitialValue)?(MaskedEditSetMessage(value,value.EmptyValueMessage,value.EmptyValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==""?!0:(ret=!0,mask=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value(),value.ValidationExpression!=""&&(rx=new RegExp(value.ValidationExpression),matches=rx.exec(mask),ret=matches!=null&&mask==matches[0],!ret))?(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):(ret=MaskedEditValidatorPartTime(value,mask,value.MinimumValue,value.MaximumValue),ret&&value.ClientValidationFunction!=""&&(args={Value:mask,IsValid:!0},eval(value.ClientValidationFunction+"(value, args);"),ret=args.IsValid,ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret||MaskedEditMessageShow(value,ret),ret)}function MaskedEditValidatorNumber(value){var target,numVal,rx,matches,args;if(MaskedEditSetMessage(value,"",""),MaskedEditSetCssClass(value,""),MaskedEditMessageShow(value,!0),value.IsMaskedEdit=="false")return!0;if(target=$get(value.TargetValidator),numVal=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value().replace(new RegExp("([w_.,s$ ])","g"),""),value.ValidEmpty=="false"&&numVal==value.InitialValue)return MaskedEditSetMessage(value,value.EmptyValueMessage,value.EmptyValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1;if(numVal=="")return!0;var ret=!0,AttibThSep=value.Thousands,AttibDcSep=value.Decimal,AttibCuSyb=value.Money,AttibLastPos=value.LastMaskPosition+AttibCuSyb.length+1,mask=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value();if(value.ValidationExpression!=""&&(rx=new RegExp(value.ValidationExpression),matches=rx.exec(mask),ret=matches!=null&&mask==matches[0],!ret))return MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1;ret=!1;var cleanInput=null,exp=null,m=null,num=null,Compnum=null;return mask=mask.replace(new RegExp("(\\"+AttibThSep+")","g"),""),mask=mask.replace(new RegExp("(\\"+AttibCuSyb+")","g"),""),m=mask.match(/^\s*(\S+(\s+\S+)*)\s*$/),m!=null&&(mask=m[1]),exp=/^\s*[-\+]?\d+\s*$/,mask.match(exp)!=null&&(num=parseInt(mask,10),ret=num==(isNaN(num)?null:num)),ret?(value.MaximumValue!=""&&(Compnum=parseInt(value.MaximumValue,10),Compnum==(isNaN(Compnum)?null:Compnum)&&num>Compnum&&(ret=!1,MaskedEditSetMessage(value,value.MaximumValueMessage,value.MaximumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret&&value.MinimumValue!=""&&(Compnum=parseInt(value.MinimumValue,10),Compnum==(isNaN(Compnum)?null:Compnum)&&num<Compnum&&(ret=!1,MaskedEditSetMessage(value,value.MinimumValueMessage,value.MinimumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass)))):(exp=new RegExp("^\\s*([-\\+])?(\\d+)?(\\"+AttibDcSep+"(\\d+))?\\s*$"),m=mask.match(exp),m!=null&&(cleanInput=null,cleanInput=typeof m[1]!="undefined"?m[1]+(m[2].length>0?m[2]:"0")+"."+m[4]:(m[2].length>0?m[2]:"0")+"."+m[4],num=parseFloat(cleanInput),ret=num==(isNaN(num)?null:num)),ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass)),ret&&(value.MaximumValue!=""&&(Compnum=parseFloat(value.MaximumValue),Compnum==(isNaN(Compnum)?null:Compnum)&&num>Compnum&&(ret=!1,MaskedEditSetMessage(value,value.MaximumValueMessage,value.MaximumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret&&value.MinimumValue!=""&&(Compnum=parseFloat(value.MinimumValue),Compnum==(isNaN(Compnum)?null:Compnum)&&num<Compnum&&(ret=!1,MaskedEditSetMessage(value,value.MinimumValueMessage,value.MinimumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))))),ret&&value.ClientValidationFunction!=""&&(args={Value:mask,IsValid:!0},eval(value.ClientValidationFunction+"(value, args);"),ret=args.IsValid,ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret||MaskedEditMessageShow(value,ret),ret}function MaskedEditValidatorNone(value){var target,ret,mask,rx,matches,exp,num,args;return(MaskedEditSetMessage(value,"",""),MaskedEditSetCssClass(value,""),MaskedEditMessageShow(value,!0),value.IsMaskedEdit=="false")?!0:(target=$get(value.TargetValidator),value.ValidEmpty=="false"&&Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==value.InitialValue)?(MaskedEditSetMessage(value,value.EmptyValueMessage,value.EmptyValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value()==""?!0:(ret=!0,mask=Sys.Extended.UI.TextBoxWrapper.get_Wrapper(target).get_Value(),value.ValidationExpression!=""&&(rx=new RegExp(value.ValidationExpression),matches=rx.exec(mask),ret=matches!=null&&mask==matches[0],!ret))?(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass),MaskedEditMessageShow(value,!1),!1):(exp=/^\d+\s*$/,num=null,value.MaximumValue!=""&&value.MaximumValue.match(exp)!=null&&(num=parseInt(value.MaximumValue,10),num==(isNaN(num)?null:num)&&mask.length>num&&(ret=!1,MaskedEditSetMessage(value,value.MaximumValueMessage,value.MaximumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret&&value.MinimumValue!=""&&value.MinimumValue.match(exp)!=null&&(num=parseInt(value.MinimumValue,10),num==(isNaN(num)?null:num)&&mask.length<num&&(ret=!1,MaskedEditSetMessage(value,value.MinimumValueMessage,value.MinimumValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret&&value.ClientValidationFunction!=""&&(args={Value:mask,IsValid:!0},eval(value.ClientValidationFunction+"(value, args);"),ret=args.IsValid,ret||(MaskedEditSetMessage(value,value.InvalidValueMessage,value.InvalidValueText),MaskedEditSetCssClass(value,value.InvalidValueCssClass))),ret||MaskedEditMessageShow(value,ret),ret)}